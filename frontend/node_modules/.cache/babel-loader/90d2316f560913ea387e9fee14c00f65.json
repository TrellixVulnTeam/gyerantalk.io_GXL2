{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\redqo\\\\Desktop\\\\Gy_git\\\\frontend\\\\src\\\\components\\\\LeftPage\\\\ChatList\\\\Chat.js\";\nimport React, { useState, Component } from 'react';\nimport { Button, Input } from '@material-ui/core';\nimport SubdirectoryArrowLeftIcon from '@material-ui/icons/SubdirectoryArrowLeft';\nimport io from \"socket.io-client\";\nimport { connect } from 'react-redux';\nimport moment from 'moment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class Chat extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      chatMessage: \"\"\n    };\n\n    this.handleSearchChange = e => {\n      this.setState({\n        chatMessage: e.target.value\n      });\n    };\n\n    this.submitChatMessage = e => {\n      e.preventDefault();\n      let chatMessage = this.state.chatMessage;\n      let _id = this.props.user.userData._id;\n      let userName = this.props.user.userData.userName;\n      let userImage = this.props.user.userData.image;\n      let nowTime = moment();\n      let type = \"Image\";\n      this.socket.emit(\"Input Chat Message\", {\n        chatMessage,\n        _id,\n        userName,\n        userImage,\n        nowTime,\n        type\n      });\n      this.setState({\n        chatMessage: \"\"\n      });\n    };\n  }\n\n  componentDidMount() {\n    let server = 'http://localhost:4000';\n    this.socket = io(server);\n    this.socket.on(\"Output Chat Message\", messageFromBackend => {\n      console.log(messageFromBackend);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.submitChatMessage,\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          color: \"secondary\",\n          placeholder: \"\\uBA54\\uC138\\uC9C0\\uB97C \\uC791\\uC131\\uD558\\uC138\\uC694\",\n          inputProps: {\n            'aria-label': 'description'\n          },\n          value: this.state.chatMessage,\n          onChange: this.handleSearchChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          color: \"secondary\",\n          htmlType: \"submit\",\n          onClick: this.submitChatMessage,\n          children: /*#__PURE__*/_jsxDEV(SubdirectoryArrowLeftIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.user\n  };\n};\n\nexport default connect(mapStateToProps)(Chat);","map":{"version":3,"sources":["C:/Users/redqo/Desktop/Gy_git/frontend/src/components/LeftPage/ChatList/Chat.js"],"names":["React","useState","Component","Button","Input","SubdirectoryArrowLeftIcon","io","connect","moment","Chat","state","chatMessage","handleSearchChange","e","setState","target","value","submitChatMessage","preventDefault","_id","props","user","userData","userName","userImage","image","nowTime","type","socket","emit","componentDidMount","server","on","messageFromBackend","console","log","render","mapStateToProps"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,MAAT,EAAiBC,KAAjB,QAA8B,mBAA9B;AACA,OAAOC,yBAAP,MAAsC,0CAAtC;AACA,OAAOC,EAAP,MAAe,kBAAf;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,MAAP,MAAmB,QAAnB;;AAEA,OAAO,MAAMC,IAAN,SAAmBP,SAAnB,CAA6B;AAAA;AAAA;AAAA,SAChCQ,KADgC,GACxB;AACJC,MAAAA,WAAW,EAAE;AADT,KADwB;;AAAA,SAgBhCC,kBAhBgC,GAgBVC,CAAD,IAAO;AACxB,WAAKC,QAAL,CAAc;AACVH,QAAAA,WAAW,EAAGE,CAAC,CAACE,MAAF,CAASC;AADb,OAAd;AAGH,KApB+B;;AAAA,SAqBhCC,iBArBgC,GAqBXJ,CAAD,IAAO;AACvBA,MAAAA,CAAC,CAACK,cAAF;AAEA,UAAIP,WAAW,GAAG,KAAKD,KAAL,CAAWC,WAA7B;AACA,UAAIQ,GAAG,GAAG,KAAKC,KAAL,CAAWC,IAAX,CAAgBC,QAAhB,CAAyBH,GAAnC;AACA,UAAII,QAAQ,GAAG,KAAKH,KAAL,CAAWC,IAAX,CAAgBC,QAAhB,CAAyBC,QAAxC;AACA,UAAIC,SAAS,GAAG,KAAKJ,KAAL,CAAWC,IAAX,CAAgBC,QAAhB,CAAyBG,KAAzC;AACA,UAAIC,OAAO,GAAGlB,MAAM,EAApB;AACA,UAAImB,IAAI,GAAG,OAAX;AAEA,WAAKC,MAAL,CAAYC,IAAZ,CAAiB,oBAAjB,EAAuC;AACnClB,QAAAA,WADmC;AAEnCQ,QAAAA,GAFmC;AAGnCI,QAAAA,QAHmC;AAInCC,QAAAA,SAJmC;AAKnCE,QAAAA,OALmC;AAMnCC,QAAAA;AANmC,OAAvC;AAQA,WAAKb,QAAL,CAAc;AAAEH,QAAAA,WAAW,EAAG;AAAhB,OAAd;AACH,KAxC+B;AAAA;;AAKhCmB,EAAAA,iBAAiB,GAAE;AACf,QAAIC,MAAM,GAAG,uBAAb;AAEA,SAAKH,MAAL,GAActB,EAAE,CAACyB,MAAD,CAAhB;AAEA,SAAKH,MAAL,CAAYI,EAAZ,CAAe,qBAAf,EAAsCC,kBAAkB,IAAI;AACxDC,MAAAA,OAAO,CAACC,GAAR,CAAYF,kBAAZ;AACH,KAFD;AAIH;;AA4BDG,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA,6BACI;AAAM,QAAA,QAAQ,EAAE,KAAKnB,iBAArB;AAAA,gCACI,QAAC,KAAD;AACI,UAAA,KAAK,EAAC,WADV;AAEI,UAAA,WAAW,EAAC,yDAFhB;AAGI,UAAA,UAAU,EAAE;AAAE,0BAAc;AAAhB,WAHhB;AAII,UAAA,KAAK,EAAE,KAAKP,KAAL,CAAWC,WAJtB;AAKI,UAAA,QAAQ,EAAE,KAAKC;AALnB;AAAA;AAAA;AAAA;AAAA,gBADJ,eAQI,QAAC,MAAD;AAAQ,UAAA,OAAO,EAAC,UAAhB;AAA2B,UAAA,KAAK,EAAC,WAAjC;AAA6C,UAAA,QAAQ,EAAC,QAAtD;AAA+D,UAAA,OAAO,EAAE,KAAKK,iBAA7E;AAAA,iCACI,QAAC,yBAAD;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBARJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ;AAgBH;;AA3D+B;;AA8DpC,MAAMoB,eAAe,GAAG3B,KAAK,IAAI;AAC7B,SAAO;AACHW,IAAAA,IAAI,EAAGX,KAAK,CAACW;AADV,GAAP;AAGH,CAJD;;AAMA,eAAed,OAAO,CAAC8B,eAAD,CAAP,CAAyB5B,IAAzB,CAAf","sourcesContent":["import React, { useState, Component } from 'react';\r\nimport { Button, Input } from '@material-ui/core';\r\nimport SubdirectoryArrowLeftIcon from '@material-ui/icons/SubdirectoryArrowLeft';\r\nimport io from \"socket.io-client\";\r\nimport { connect } from 'react-redux';\r\nimport moment from 'moment';\r\n\r\nexport class Chat extends Component {\r\n    state = {\r\n        chatMessage: \"\",\r\n    }\r\n\r\n    componentDidMount(){\r\n        let server = 'http://localhost:4000';\r\n\r\n        this.socket = io(server);\r\n\r\n        this.socket.on(\"Output Chat Message\", messageFromBackend => {\r\n            console.log(messageFromBackend);\r\n        })\r\n\r\n    }\r\n\r\n    handleSearchChange = (e) => {\r\n        this.setState({\r\n            chatMessage : e.target.value,\r\n        })\r\n    }\r\n    submitChatMessage = (e) => {\r\n        e.preventDefault();\r\n\r\n        let chatMessage = this.state.chatMessage;\r\n        let _id = this.props.user.userData._id;\r\n        let userName = this.props.user.userData.userName;\r\n        let userImage = this.props.user.userData.image;\r\n        let nowTime = moment();\r\n        let type = \"Image\";\r\n\r\n        this.socket.emit(\"Input Chat Message\", {\r\n            chatMessage,\r\n            _id,\r\n            userName,\r\n            userImage,\r\n            nowTime,\r\n            type,\r\n        });\r\n        this.setState({ chatMessage : \"\"});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <form onSubmit={this.submitChatMessage}>\r\n                    <Input\r\n                        color=\"secondary\"\r\n                        placeholder=\"메세지를 작성하세요\"\r\n                        inputProps={{ 'aria-label': 'description' }}\r\n                        value={this.state.chatMessage}\r\n                        onChange={this.handleSearchChange}\r\n                    />\r\n                    <Button variant=\"outlined\" color=\"secondary\" htmlType=\"submit\" onClick={this.submitChatMessage}>\r\n                        <SubdirectoryArrowLeftIcon />\r\n                    </Button>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        user : state.user\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Chat);\r\n"]},"metadata":{},"sourceType":"module"}